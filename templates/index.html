<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clasificaci√≥n de Basura - Inicio</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <div class="main-wrapper">

    <header class="main-header">
        <div class="container-header">
            <div class="logo">
                <img src="/static/logo_cara_header.png" alt="EcoClasifica Logo">
                <a href="#inicio">ReciBOT</a>
            </div>
            <nav class="navbar">
                <ul class="nav-links">
                    <li><a href="#inicio"><b>Inicio</b></a></li>
                    <li><a href="#upload"><b>Haz tu prueba</b></a></li>
                    <li><a href="#quienes-somos"><b>Nosotros</b></a></li>
                    <li><a href="#que-hacemos"><b>Qu√© Hacemos</b></a></li>
                    <li><a href="#contacto"><b>Contacto</b></a></li>
                </ul>
                <button class="menu-toggle" id="menu-toggle" aria-label="Abrir men√∫ de navegaci√≥n">
                    ‚ò∞
                </button>

                <script>
                    const menuToggle = document.getElementById('menu-toggle');
                    const navLinks = document.querySelector('.nav-links');
                
                    menuToggle.addEventListener('click', () => {
                        navLinks.classList.toggle('show');
                    });
                </script>

            </nav>
        </div>
    </header>

    <section id="inicio" class="hero-section">
        <div class="hero-content">
            <h2>Bienvenido a ReciBOT</h2>
            <p>Facilitamos la identificaci√≥n de residuos para fomentar un reciclaje consciente y el cuidado de nuestro planeta.  
            ¬°Haz parte del cambio hacia un mundo m√°s sostenible!</p>
            <a href="#upload" class="cta-button">¬°Comienza Ahora!</a>
        </div>
    </section>

    
    
    <section id="upload" class="upload-container">

        <h2>SUBE UNA IMAGEN PARA ANALIZAR</h2>

        <p class="instructions">
            Selecciona una imagen clara del residuo que deseas analizar. Aseg√∫rate de que est√© bien iluminada y enfocada para obtener mejores resultados.
        </p>

        <div class="upload-section">
            <div class="custom-file-upload">
                <label for="imageInput" class="upload-label">üìÇ Sube una imagen</label>
                <input type="file" id="imageInput" accept="image/*" aria-label="Selecciona una imagen" hidden>
            
                <label for="cameraInput" class="upload-label">üì∑ Tomar foto</label>
                <input type="file" id="cameraInput" accept="image/*" capture="environment" aria-label="Tomar una foto" hidden>
            
                <div class="upload-status" id="uploadStatus">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                <p id="uploadMessage" class="upload-message"></p>

                <script>
                    function handleUpload(inputElement) {
                        const progressBar = document.getElementById('progressBar');
                        const uploadMessage = document.getElementById('uploadMessage');
                
                        if (inputElement.files && inputElement.files[0]) {
                            progressBar.style.width = '0%';
                            uploadMessage.textContent = '';
                
                            let width = 0;
                            const interval = setInterval(() => {
                                if (width >= 100) {
                                    clearInterval(interval);
                                    uploadMessage.textContent = '‚úÖ Imagen subida correctamente.';
                                } else {
                                    width += 10;
                                    progressBar.style.width = width + '%';
                                }
                            }, 50);
                        }
                    }
                
                    document.getElementById('imageInput').addEventListener('change', function() {
                        handleUpload(this);
                    });
                
                    document.getElementById('cameraInput').addEventListener('change', function() {
                        handleUpload(this);
                    });
                </script>                
                
            </div>
            
            <button onclick="sendImage()" id="analyzeButton"><b>Analizar Imagen</b></button>
            <div id="loading" style="display:none;">Procesando imagen...</div>
        </div>
        
        <h2>Resultado</h2>
        <p id="materialResult" aria-live="polite">Esperando an√°lisis...</p>
        <p id="recommendation" aria-live="polite"></p> <!-- Nuevo elemento para la recomendaci√≥n -->

        <script>
            function sendImage() {
                const imageInput = document.getElementById("imageInput");
                const cameraInput = document.getElementById("cameraInput");
                const analyzeButton = document.getElementById("analyzeButton");
                const loading = document.getElementById("loading");
                const resultText = document.getElementById("materialResult");
                const recommendationText = document.getElementById("recommendation");
            
                let file = null;
            
                // Verificar cu√°l input tiene el archivo
                if (imageInput.files.length > 0) {
                    file = imageInput.files[0];
                } else if (cameraInput.files.length > 0) {
                    file = cameraInput.files[0];
                } else {
                    alert("Por favor, selecciona o toma una imagen.");
                    return;
                }
            
                if (!file.type.startsWith("image/")) {
                    resultText.innerText = "Error: El archivo debe ser una imagen.";
                    resultText.classList.add("error");
                    recommendationText.innerText = "";
                    return;
                }
            
                analyzeButton.disabled = true;
                loading.style.display = "block";
                resultText.innerText = "Analizando...";
                resultText.classList.remove("error");
                recommendationText.innerText = "";
            
                const formData = new FormData();
                formData.append("file", file);
            
                fetch("/predict", {
                    method: "POST",
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        resultText.innerText = "Error: " + data.error;
                        resultText.classList.add("error");
                        recommendationText.innerText = "";
                    } else {
                        const material = data.material;
                        resultText.innerText = "Material detectado: " + material;
                        resultText.classList.remove("error");
            
                        const recommendation = getRecommendation(material);
                        recommendationText.innerText = recommendation;
                    }
                })
                .catch(error => {
                    resultText.innerText = "Error en la solicitud. Int√©ntalo de nuevo.";
                    resultText.classList.add("error");
                    recommendationText.innerText = "";
                    console.error("Error:", error);
                })
                .finally(() => {
                    analyzeButton.disabled = false;
                    loading.style.display = "none";
                });
            }
            
            // Funci√≥n para obtener recomendaciones seg√∫n el material
            function getRecommendation(material) {
                const recommendations = {
                    "metal": "Los metales son altamente reciclables. Depos√≠talos en el contenedor amarillo o en un centro de reciclaje especializado.",
                    "organico": "Los residuos org√°nicos deben depositarse en el contenedor marr√≥n para compostaje o tratamiento adecuado.",
                    "papel_y_carton": "El papel y cart√≥n son reciclables. Depos√≠talos en el contenedor azul para su correcto reciclaje.",
                    "plastico": "El pl√°stico debe depositarse en el contenedor amarillo. Recuerda reducir su uso siempre que sea posible.",
                    "vidrio": "El vidrio es 100% reciclable. Dep√≥sitalo en el contenedor verde, limpio y sin tapas."
                };
            
                return recommendations[material.toLowerCase()] || "Material no reconocido. Por favor, verifica c√≥mo desecharlo correctamente.";
            }
            </script>
            
    </section>

    <section id="quienes-somos" class="team-section">
        <h2>Nosotros</h2>
        <p class="team-intro">
            Somos un equipo apasionado por el cuidado del medio ambiente y la innovaci√≥n tecnol√≥gica. Nuestro objetivo es desarrollar soluciones sostenibles que, a trav√©s de la inteligencia artificial, promuevan una transformaci√≥n positiva en los h√°bitos de reciclaje. Creemos en el poder de la tecnolog√≠a como herramienta para generar conciencia, optimizar procesos de recolecci√≥n y clasificaci√≥n de residuos, y fomentar una cultura de responsabilidad ambiental en las comunidades. Trabajamos cada d√≠a para construir un futuro m√°s limpio, inteligente y sostenible.
        </p>
    
        <div class="team-container">
            <div class="team-member">
                <img src="/static/Foto_Arley.jpg" alt="Integrante 1" class="team-photo">
                <h3>Arley Garzon</h3>
                <p> Especialista en desarrollo de software enfocado en sostenibilidad y IA.</p>
            </div>
            <div class="team-member">
                <img src="/static/Foto_Daniel_Tabizco.jpeg" alt="Integrante 2" class="team-photo">
                <h3>Daniel Tibavizco </h3>
                <p> Experto en ciencias digitales y gesti√≥n de proyectos tecnol√≥gicos</p>
            </div>
            <div class="team-member">
                <img src="/static/Freddy.jpeg" alt="Integrante 3" class="team-photo">
                <h3>Freddy </h3>
                <p>L√≠der en estrategias de innovaci√≥n para el reciclaje y la conservaci√≥n.</p>
            </div>
        </div>
    </section>

    <section id="que-hacemos" class="section-que-hacemos">
        <div class="container">
          <h2>¬øQu√© Hacemos?</h2>
          <p class="descripcion">
            <b>
            Aplicamos modelos avanzados de inteligencia artificial para analizar im√°genes de residuos y facilitar su clasificaci√≥n precisa seg√∫n el tipo de material. Promovemos el reciclaje efectivo dividiendo los residuos en cinco categor√≠as: papel y cart√≥n, vidrio, pl√°stico, metal y org√°nico.
            </b>
        </p>
          
          <div class="contenedor-canecas">
            <div class="caneca">
              <img src="/static/papel_y_cartontxt.png" alt="Papel y Cart√≥n - Azul">
              <h3 class="titulo-azul">PAPEL Y CARTON</h3>
            </div>
            <div class="caneca">
              <img src="/static/vidriotxt.png" alt="Vidrio - Verde">
              <h3 class="titulo-verde">VIDRIO</h3>
            </div>
            <div class="caneca">
              <img src="/static/plasticotxt.png" alt="Pl√°stico - Naranja">
              <h3 class="titulo-naranja">PLASTICO</h3>
            </div>
            <div class="caneca">
              <img src="/static/metaltxt.png" alt="Metal - Amarillo">
              <h3 class="titulo-amarillo">METAL</h3>
            </div>
            <div class="caneca">
              <img src="/static/organicotxt.png" alt="Org√°nico - Negro">
              <h3 class="titulo-negro">ORGANICO</h3>
            </div>
          </div>
        </div>
      </section>

      <section id="recomendaciones" class="section-recomendaciones">
        <div class="container">
          <h2>Recomendaciones por Tipo de Residuos</h2>
      
          <div class="recomendaciones-wrapper">
            <div class="fila fila-superior">
              <div class="recomendacion tipo-azul">
                <img src="/static/papel_y_carton.png" alt="Papel y Cart√≥n">
                <div class="contenido">
                  <h3>Papel y Cart√≥n</h3>
                  <p>Evita botar papel con restos de comida. Aseg√∫rate de que el cart√≥n est√© limpio y seco. No mezcles servilletas usadas o papel higi√©nico.</p>
                </div>
              </div>
      
              <div class="recomendacion tipo-verde">
                <img src="/static/vidrio.png" alt="Vidrio">
                <div class="contenido">
                  <h3>Vidrio</h3>
                  <p>Retira las tapas y enjuaga los envases. No deposites vidrios rotos sin protecci√≥n. Evita mezclar vidrio con residuos peligrosos.</p>
                </div>
              </div>
      
              <div class="recomendacion tipo-naranja">
                <img src="/static/plastico.png" alt="Pl√°stico">
                <div class="contenido">
                  <h3>Pl√°stico</h3>
                  <p>Enjuaga los envases y quita etiquetas si es posible. Separa tapas y botellas. No deposites pl√°sticos contaminados con comida o aceites.</p>
                </div>
              </div>
            </div>
      
            <div class="fila fila-inferior">
              <div class="recomendacion tipo-amarillo">
                <img src="/static/metal.png" alt="Metal">
                <div class="contenido">
                  <h3>Metal</h3>
                  <p>Enjuaga latas y envases met√°licos. No incluyas pilas, cables ni objetos electr√≥nicos. Aplasta latas para ahorrar espacio.</p>
                </div>
              </div>
      
              <div class="recomendacion tipo-negro">
                <img src="/static/organico.png" alt="Org√°nico">
                <div class="contenido">
                  <h3>Org√°nico</h3>
                  <p>Deposita restos de frutas, verduras y comida sin empaques. Evita mezclar residuos org√°nicos con papel, pl√°stico o metal.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      
      
      

      <section id="contacto" class="contact-section">
        <div class="container-contacto">
          <div class="contact-info">
            <h2>Cont√°ctanos</h2>
            <p>¬øTienes preguntas, sugerencias o quieres colaborar con nosotros? Estamos disponibles para escucharte.</p>
            <ul>
              <li><strong>Correo:</strong> <a href="mailto:contacto@clasificacionbasura.com">contacto@clasificacionbasura.com</a></li>
              <li><strong>Tel√©fono:</strong> <a href="tel:+573001112233">+57 300 111 2233</a></li>
              <li><strong>Horario de atenci√≥n:</strong> Lunes a Viernes, 8:00 a.m. - 5:00 p.m.</li>
              <li><strong>Direcci√≥n:</strong> Bogot√°, Colombia</li>
            </ul>
          </div>
      
          <div class="contact-form">
            <h3>Env√≠anos un mensaje</h3>
            <form>
              <input type="text" name="nombre" placeholder="Tu nombre" required>
              <input type="email" name="correo" placeholder="Tu correo electr√≥nico" required>
              <textarea name="mensaje" placeholder="Escribe tu mensaje..." rows="5" required></textarea>
              <button type="submit">Enviar</button>
            </form>
          </div>
      
          <div class="contact-map">
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3976.7806794261734!2d-74.06014232592604!3d4.663132342069295!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f9aa9e8aa16fb%3A0x66d3a5b0a248be9d!2sUniversidad%20EAN!5e0!3m2!1ses!2sco!4v1714421041824!5m2!1ses!2sco"
                width="100%" height="350" style="border:0; border-radius: 12px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
        </div>
      </section>
      
      

    <footer>
        <p>&copy; <b>2025 ReciBOT Clasificaci√≥n de Basura. Todos los derechos reservados.</b></p>
        <p>S√≠guenos en:
            <a href="#">Facebook</a> |
            <a href="#">Instagram</a> |
            <a href="#">Twitter</a>
        </p>
    </footer>

</body>
</html>
